{% extends 'base.html' %}
{% block head %}
{% endblock head %}
{% block content %}
{% load crispy_forms_tags %}

    




<div id="layoutSidenav_content">
	<main>
		<div class="container-fluid">
			<h1 class="mt-4">Dashboard</h1>
			<ol class="breadcrumb mb-4">
				<li class="breadcrumb-item active">Dashboard</li>
			</ol>
			{% include 'main.html' %}

			<div class="card mb-4">
				<div class="row">
					<div class="card-header col">
						<button id="add" type="submit" class="btn btn-outline-success"><i
							class="fa fa-plus" aria-hidden="true"></i></button>
					</div>
					<div class="card-header col">
						<div class="row  justify-content-md-center">
							<div class="col-md-4">
								<i class="fas fa-flag mr-1"></i>
								Total Symbols
							</div>
							<div class="col-md-4">
								{{ total_symbols_count }}
							</div>

						</div>
					</div>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
							<thead>
								<tr>
									<th>TransactionType</th>
									<th>ExchangeSymbol</th>
									<th>InputSymbol</th>
									<th>Exchange</th>
									<th>InstrumentName</th>
									<th>OrderType</th>
									<th>Quantity</th>
									<th>ProductType</th>
									<th>MaxProfit</th>
									<th>MaxLoss</th>
									<th>StrategyTag</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody id="table_id">
								<tr>
									<form method="POST" action=".">
										{% csrf_token %}
										<td>
											{{ form.transaction_type|as_crispy_field }}
										</td>
										<td>
											{{ form.exchange_symbol|as_crispy_field }}
										</td>
										<td>
											{{ form.input_symbol|as_crispy_field }}
										</td>
										<td>
											{{ form.exchange_name|as_crispy_field }}
										</td>
										<td>
											{{ form.instrumentname|as_crispy_field }}
										</td>
										<td>
											{{ form.ordertype|as_crispy_field }}
										</td>
										<td>
											{{ form.quantity|as_crispy_field }}
										</td>
										<td>
											{{ form.product_type|as_crispy_field }}
										</td>
										<td>
											{{ form.max_profit|as_crispy_field }}
										</td>
										<td>
											{{ form.max_loss|as_crispy_field }}
										</td>
										<td>
											{{ form.strategy_tag|as_crispy_field }}
										</td>

										<td><button id="addRow" type="submit" class="btn btn-outline-primary"><i
													class="fa fa-check" aria-hidden="true"></i></button></td>


									</form>
								</tr>
							</tbody>
						</table>
					</div>
				</div>


			</div>
			<div class="row">
				<div onclick=loginwithapi() class="col-xl-3 col-md-6" type="button" class="btn btn-outline-primary">
					<div class="card bg-primary text-white mb-4">
						<div class="card-body">Login With API</div>
					</div>
				</div>
				<div onclick=logout() class="col-xl-3 col-md-6" type="button" class="btn btn-outline-primary">
					<div class="card bg-primary text-white mb-4">
						<div class="card-body">Logout</div>
					</div>
				</div>
				<div onclick="document.location = '#'" class="col-xl-3 col-md-6" type="button"
					class="btn btn-outline-primary">
					<div class="card bg-success text-white mb-4">
						<div class="card-body">Start Trade</div>
					</div>
				</div>
				<div onclick="document.location = '#'" class="col-xl-3 col-md-6" type="button"
					class="btn btn-outline-primary">
					<div class="card bg-danger text-white mb-4">
						<div class="card-body">Stop Trade</div>
					</div>
				</div>
			</div>
		</div>
	</main>
		<script>
		function logout() {
			document.location = "{% url 'account_logout' %}"

		}

		function loginwithapi() {
			document.location = "{% url 'api' %}"
		}
	</script>
	
	<!-- <script>
		$("<tr><td>.....content...<td><a class='remove'>remove</a>").appendTo("#tableid tbody").find('.remove').click(function () {
			$(this).parent().parent().remove();
		});
	</script> -->


	{% endblock content %}